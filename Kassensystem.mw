==Ideen==
* "normale" Hardware (Thin Client? siehe z.B. [http://cgi.ebay.de/IGEL-3-4-Compact-3210-Thin-Client-600MHz-256MB-128MB-/300544341496?pt=DE_Technik_Computer_Peripherieger%C3%A4te_PC_Systeme&hash=item45f9d6b5f8#ht_3136wt_1096 hier] oder [http://cgi.ebay.de/IGEL-3-4-Compact-3210-Thin-Client-600MHz-256MB-128MB-/300544341496?pt=DE_Technik_Computer_Peripherieger%C3%A4te_PC_Systeme&hash=item45f9d6b5f8#ht_3136wt_1096 hier])
** Booten von Compact Flash oder USB Stick
** Anbindung an User Datenbank über Netzwerk (Kabel in der Küche?)
** Warenwirtschaftssystem "light"
* Scannen von Artikeln mittels Barcodescanner (EAN8 / EAN13 Code)
* Gerät bietet keine "Mehrwertdienste" und ist nur eine dumme Kasse (;_;)
* Ausgabe erfolgt über Monitor bzw. 4x20 oder 4x40 Zeilendisplay (DaFo)
* Identifizierung bzw. Autorisierung über persönlichen Code
** Frage: gleicher Code wie Tür oder separat?
** Mitgliedskarte mit Barcode?
** wenn Karte vergessen, Eingabe des Codes über Pinpad
* zwei Arten von Kunden: Gäste bzw. Mitglieder
** Guthabenkarte für Gäste, aufgeladen mit bestimmtem Betrag (nicht personengebunden)
** Guthabenkarte für Mitglieder, kann beliebig aufgeladen werden (personengebunden)
** eventuell andere Preise für GästeBARCODE
* evtl. später: Einzahlen mittels Geldleser
* "Trusted Persons" zwecks Einzahlung
* bei Zahlungsvorgang: Geräusch (Instantsfun!!!11)
* Zugriff aufs Kassensystem nur ausgewählte Personen
* Systemlogging auf Server für Monitoring
* lokale Datenbank (SQLite) mit regelmäßigem Backup
* Preisverwaltung über Webinterface
** Authentifizierung gegen Mitgliedsdatenbank
** "normale" Benutzer können Einkaufshistorie einsehen (falls aktiviert)

==Prozess "Bezahlen"==
# Identifierung der Person
#: verfügbares Guthaben wird angezeigt
# Artikel scannen
#: jeder gescannte Artikel wird bereits gegen Guthaben geprüft (bei Fehlbetrag Warngeräusch)
# Bestätigung bzw. Abbruch der Transaktion
#: Verbuchung des Vorgangs & Verrechnung mit Konto
# ???
# Profit

==Prozess "Aufladen"==
Generell gilt: nur im Voraus!
* per Überweisung aufs Konto vom RaumZeitLabor (Verwaltungsaufwand? eventuell HCBI) '''oder'''
* bar bei ausgewählten "Trusted Persons" (Bestimmung über Plenum/Mitgliedsversammlung?)

== Datenmodell ==
Dies ist ein erster Entwurf.
* Produkt: <u>PID</u>, EAN, Name, Lieferant, SchwellenMenge, DatumAufgenommen
* Einkauf: <u>EID</u>, PID, UID, DatumEinkauf, Menge, EKPreis
** EKPreis wird als Basis für Berechnung der Standardkondition herangezogen
** Überlegung, ob FIFO (vermutlich), LIFO oder Durchschnitt genommen werden soll
* Kondition: <u>KID</u>, GID, UID, PID, Faktor, Preis, DatumStart, DatumEnde
** ermöglicht granulare Preissteuerung bis auf den Käufer (z.B. bei Geburtstag)
** jede Gruppe sollte einen GID Eintrag haben (ohne UID und PID) mit Standardfaktor (vom EK)
** entweder Faktor oder Preis ist gesetzt (nie beides)
** DatumEnde muss nicht gesetzt sein (unbegrenzt)
* Verkauf: <u>VID</u>, GID, UID, DatumKauf
** UID ist nur auf Wunsch gesetzt, um Historie einsehen zu können
* VerkaufsPosition: <u>PosID</u>, VID, KID, Menge
* Guthaben: <u>CID</u>, Code, UID, VID, Datum, Betrag
** Code ist der Barcode der Cashcard
** für jedes Mitglied wird ein Code generiert
** UID kann leer gelassen werden (für Gäste)
** VID kann leer gelassen werden (bei Aufladung)

== Aktueller Stand ==
* Debian 6.0.1a installiert (eine Partition, ext4)
** keine Ahnung ob ein Journaling Filesystem die beste Idee auf einer CF ist
** Zugriff per SSH

==Links==
* http://www.das-labor.org/wiki/Getr%C3%A4nkekasse
* http://wiki.c-base.org/coredump/CassenDevice
* http://wiki.c-base.org/coredump/CassenDeviceDisplay
* http://wiki.c-base.org/coredump/Getr%C3%A4nkeReplicator

[[Kategorie:Projekt]][[Kategorie:Infrastruktur]]
